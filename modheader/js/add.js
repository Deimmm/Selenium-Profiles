import { K as Kt, J as Jt, b as a, a1 as q, T as T$1, a8 as z, ad as U$1, N, a3 as C$1, F, a9 as K, R as R$1, aa as D, ae as Q, s, a as t, Q as Qt, e as en, ak as Tt } from '../storage-writer-ec9fd9e8.js';

const{document:b}=Tt;function C(e,t,n){const o=e.slice();return o[10]=t[n],o[11]=t,o[12]=n,o}function w(e,t,n){const o=e.slice();return o[10]=t[n],o}function L(e){let t$1;return {c(){t$1=T$1("h2"),t$1.textContent="Processing";},m(e,n){N(e,t$1,n);},p:t,d(e){e&&R$1(t$1);}}}function T(e){let t,n,c,s;return {c(){t=T$1("h2"),t.textContent="Error while adding header",n=q(),c=T$1("p"),s=z(e[1]);},m(e,o){N(e,t,o),N(e,n,o),N(e,c,o),C$1(c,s);},p(e,t){2&t&&K(s,e[1]);},d(e){e&&R$1(t),e&&R$1(n),e&&R$1(c);}}}function P(e){let t,n,c,s$1,i,u,m,b,w,L,T,P,U,A,k,M,D$1,N$1,I,_,j,q$1,z$1,E,F$1,O,S,$,B,G,J,K$1,Q,V,W,X,Y,Z,ee=H(e[3])+"",te=e[2].length>0&&y(e),ne=e[3],oe=[];for(let t=0;t<ne.length;t+=1)oe[t]=R(C(e,ne,t));return {c(){te&&te.c(),t=q(),n=T$1("h2"),n.textContent="API",c=q(),s$1=T$1("p"),i=z("To add headers to webdriver, navigate to this URL: "),u=T$1("code"),u.textContent="https://webdriver.modheader.com/add?{name1}={value1}&{name2}={value2}&...",m=q(),b=T$1("p"),b.innerHTML="<strong>IMPORTANT</strong>: Please be sure to URL encoded the parameters so they can be\n      correctly parsed.",w=q(),L=T$1("p"),L.innerHTML="To make sure that the headers are correctly added, please wait for the document title to equal\n      <code>Done</code>.",T=q(),P=T$1("h2"),P.textContent="API Helper",U=q(),A=T$1("p"),A.textContent="Use the tool below to help you generate a add header URL:",k=q();for(let e=0;e<oe.length;e+=1)oe[e].c();M=q(),D$1=T$1("button"),D$1.textContent="Add header",N$1=q(),I=T$1("div"),_=T$1("code"),j=z(ee),q$1=q(),z$1=T$1("div"),E=T$1("button"),E.textContent="Copy URL",F$1=q(),O=T$1("h2"),O.textContent="Clear all modifications",S=q(),$=T$1("p"),$.innerHTML="To clear all modifications, go to:\n      <br/> \n      <code>https://webdriver.modheader.com/clear</code>",B=q(),G=T$1("h2"),G.textContent="Load a profile",J=q(),K$1=T$1("p"),Q=z("To load an exported profile, go to:\n      "),V=T$1("br"),W=q(),X=T$1("code"),X.textContent="https://webdriver.modheader.com/load?profile={exported_profile_in_json}",U$1(I,"margin-top",".5rem");},m(o,a){te&&te.m(o,a),N(o,t,a),N(o,n,a),N(o,c,a),N(o,s$1,a),C$1(s$1,i),C$1(s$1,u),N(o,m,a),N(o,b,a),N(o,w,a),N(o,L,a),N(o,T,a),N(o,P,a),N(o,U,a),N(o,A,a),N(o,k,a);for(let e=0;e<oe.length;e+=1)oe[e].m(o,a);N(o,M,a),N(o,D$1,a),N(o,N$1,a),N(o,I,a),C$1(I,_),C$1(_,j),N(o,q$1,a),N(o,z$1,a),C$1(z$1,E),N(o,F$1,a),N(o,O,a),N(o,S,a),N(o,$,a),N(o,B,a),N(o,G,a),N(o,J,a),N(o,K$1,a),C$1(K$1,Q),C$1(K$1,V),C$1(K$1,W),C$1(K$1,X),Y||(Z=[F(D$1,"click",e[7]),F(E,"click",e[8])],Y=!0);},p(e,n){if(e[2].length>0?te?te.p(e,n):(te=y(e),te.c(),te.m(t.parentNode,t)):te&&(te.d(1),te=null),8&n){let t;for(ne=e[3],t=0;t<ne.length;t+=1){const o=C(e,ne,t);oe[t]?oe[t].p(o,n):(oe[t]=R(o),oe[t].c(),oe[t].m(M.parentNode,M));}for(;t<oe.length;t+=1)oe[t].d(1);oe.length=ne.length;}8&n&&ee!==(ee=H(e[3])+"")&&K(j,ee);},d(e){te&&te.d(e),e&&R$1(t),e&&R$1(n),e&&R$1(c),e&&R$1(s$1),e&&R$1(m),e&&R$1(b),e&&R$1(w),e&&R$1(L),e&&R$1(T),e&&R$1(P),e&&R$1(U),e&&R$1(A),e&&R$1(k),D(oe,e),e&&R$1(M),e&&R$1(D$1),e&&R$1(N$1),e&&R$1(I),e&&R$1(q$1),e&&R$1(z$1),e&&R$1(F$1),e&&R$1(O),e&&R$1(S),e&&R$1($),e&&R$1(B),e&&R$1(G),e&&R$1(J),e&&R$1(K$1),Y=!1,s(Z);}}}function y(e){let t,n,l,c=e[2],s=[];for(let t=0;t<c.length;t+=1)s[t]=U(w(e,c,t));return {c(){t=T$1("h2"),t.textContent="Headers added",n=q(),l=T$1("ul");for(let e=0;e<s.length;e+=1)s[e].c();},m(e,o){N(e,t,o),N(e,n,o),N(e,l,o);for(let e=0;e<s.length;e+=1)s[e].m(l,null);},p(e,t){if(4&t){let n;for(c=e[2],n=0;n<c.length;n+=1){const o=w(e,c,n);s[n]?s[n].p(o,t):(s[n]=U(o),s[n].c(),s[n].m(l,null));}for(;n<s.length;n+=1)s[n].d(1);s.length=c.length;}},d(e){e&&R$1(t),e&&R$1(n),e&&R$1(l),D(s,e);}}}function U(e){let t,n,o,c,s=e[10].name+"",i=e[10].value+"";return {c(){t=T$1("li"),n=z(s),o=z(": "),c=z(i);},m(e,a){N(e,t,a),C$1(t,n),C$1(t,o),C$1(t,c);},p(e,t){4&t&&s!==(s=e[10].name+"")&&K(n,s),4&t&&i!==(i=e[10].value+"")&&K(c,i);},d(e){e&&R$1(t);}}}function R(e){let t,n,c,s$1,i,u,p,f;function x(){e[4].call(n,e[11],e[12]);}function b(){e[5].call(s$1,e[11],e[12]);}function C(){return e[6](e[12])}return {c(){t=T$1("div"),n=T$1("input"),c=z(": "),s$1=T$1("input"),i=q(),u=T$1("button"),u.textContent="Delete";},m(o,a){N(o,t,a),C$1(t,n),Q(n,e[10].name),C$1(t,c),C$1(t,s$1),Q(s$1,e[10].value),C$1(t,i),C$1(t,u),p||(f=[F(n,"input",x),F(s$1,"input",b),F(u,"click",C)],p=!0);},p(t,o){e=t,8&o&&n.value!==e[10].name&&Q(n,e[10].name),8&o&&s$1.value!==e[10].value&&Q(s$1,e[10].value);},d(e){e&&R$1(t),p=!1,s(f);}}}function A(e){let t$1,n,s,i,u;function h(e,t){return e[0]?P:e[1]?T:L}b.title=t$1=e[0]?"Done":"Loading";let p=h(e),f=p(e);return {c(){n=q(),s=T$1("main"),i=T$1("h1"),i.textContent="Add headers",u=q(),f.c();},m(e,t){N(e,n,t),N(e,s,t),C$1(s,i),C$1(s,u),f.m(s,null);},p(e,[n]){1&n&&t$1!==(t$1=e[0]?"Done":"Loading")&&(b.title=t$1),p===(p=h(e))&&f?f.p(e,n):(f.d(1),f=p(e),f&&(f.c(),f.m(s,null)));},i:t,o:t,d(e){e&&R$1(n),e&&R$1(s),f.d();}}}function H(e){const t=new URL("https://webdriver.modheader.com/add");for(const{name:n,value:o}of e)t.searchParams.set(n,o);return t.href}function k(e,t,n){let o,a=!1,r=[],l=[];(async function(){let e=await Qt(["profiles","selectedProfile"]);const t=new URL(document.location).searchParams;n(2,r=[]);for(const e of t.entries())r.push({name:e[0],value:e[1],enabled:!0});if(r.length>0){e.profiles[e.selectedProfile].headers.push(...r),await en(e.profiles),n(3,l=[...r]);}else n(3,l=[{name:"Test",value:"1"},{name:"User-Agent",value:"My test user agent"}]);n(0,a=!0);})().catch((e=>n(1,o=e)));return [a,o,r,l,function(e,t){e[t].name=this.value,n(3,l);},function(e,t){e[t].value=this.value,n(3,l);},e=>{l.splice(e,1),n(3,l=[...l]);},()=>n(3,l=[...l,{name:"",value:""}]),()=>navigator.clipboard.writeText(H(l))]}const M=new class extends Kt{constructor(e){super(),Jt(this,e,k,A,a,{});}}({target:document.body});

export { M as default };
